const elementoCarousel=document.querySelector(".menu__cafes");function loadjson(){fetch("/src/scripts/cafes.json").then((e=>e.json())).then((e=>{let n="";e.forEach((e=>{n+=`\n      <div class="menu__cafe">\n\n        <div class="menu__foto">\n          <img class="menu__img" src="${e.img}" alt="${e.nombre}">\n        </div>\n\n        <div class="menu__desc">\n          <p class="menu__nombre">${e.nombre}</p>\n          <p class="menu__precio">${e.precio}</p>\n        </div>\n\n        <button class="menu__btn" type="button">+</button>\n\n      </div>\n      `})),elementoCarousel.innerHTML=n})).then((()=>{document.querySelectorAll(".menu__btn").forEach((e=>{e.addEventListener("click",n)}));const e=document.querySelector(".menu__caja");function n(n){const a=n.target.closest(".menu__cafe");!function(n,a){const s=e.getElementsByClassName("titulo-cafe");for(let e=0;e<s.length;e++)if(s[e].innerText===n)return s[e].parentElement.parentElement.parentElement.querySelector("opcion__input").value++,$(".toast").toast("show"),void t();const r=document.createElement("div"),l=`\n    <div class="caja__cafe">\n      <div class="caja__desc">\n        <h4 class="titulo-cafe">${n}</h4>\n        <p class="desc__precio">${a}</p>\n      </div>\n      <div class="caja__opcion">\n        <input class="opcion__input" onkeypress="actualizarTotal" type="number" min="1" value="1">\n        <button class="opcion__btn" type="button">X</button>\n    </div>\n  </div>\n    `;r.innerHTML=l,e.append(r),r.querySelector(".opcion__btn").addEventListener("click",o),r.querySelector(".opcion__input").addEventListener(".change",c),t()}(a.querySelector(".menu__nombre").textContent,a.querySelector(".menu__precio").textContent)}function t(){let e=0;const n=document.querySelector(".total__p");document.querySelectorAll(".caja__cafe").forEach((n=>{const t=n.querySelector(".desc__precio"),o=Number(t.textContent.replace("$","")),c=n.querySelector(".opcion__input"),a=Number(c.value);e+=o*a})),n.innerHTML=`$${e.toFixed(2)}`}function o(e){e.target.closest(".caja__cafe").remove(),t()}function c(e){const n=e.target;n.value<=0&&(n.value=1),t()}})).catch((()=>{alert("No funciona")}))}window.addEventListener("DOMContentLoaded",(()=>{loadjson()}));